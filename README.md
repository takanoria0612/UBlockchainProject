
# Ether送金Dapp: 実装詳細

このプロジェクトはEthereumのスマートコントラクトを活用したDappです。ユーザーは、メタマスクウォレットとの連携を通じて、Etherの送金を簡単に行えます。

## スマートコントラクトの実装

### `Transactions.sol`

- `TransferStruct`: トランザクションの情報を保持する構造体。送信者、受信者、送金金額を保存します。
- `addToBlockChain`: トランザクション情報をブロックチェーンに追加する関数。送金情報を`TransferStruct`に保存し、`Transfer`イベントを発火させます。

### 工夫点

- イベントの使用: `Transfer`イベントを使用することで、フロントエンド側でのトランザクションの追跡や監視が容易になります。

## フロントエンドの実装

### `TransactionContext.js`

- `getSmarContract`: Web3Providerを使用してスマートコントラクトのインスタンスを取得する関数。これにより、フロントエンドからスマートコントラクトの関数を呼び出すことができます。
- `checkMetamaskWalletConnected`: メタマスクウォレットが接続されているか確認する関数。接続されていれば、アカウントの情報を取得します。
- `connectWallet`: メタマスクウォレットとの連携を行う関数。ユーザーの許可を取得した後、アカウントの情報を取得します。
- `sendTransaction`: Etherの送金を行う関数。入力されたアドレスと金額を元にトランザクションを実行します。

### 工夫点

1. **入力チェック**: 送金額の入力時に小数点以下の桁数を厳密にチェックすることで、不正な送金を防止しています。
2. **エラーハンドリング**: エラーコード`4001`を利用して、トランザクションの拒否を特定。これによりユーザーに具体的なエラー原因を伝えることができます。

### `Main.js`

- ユーザーインターフェース部分の実装。
- フォームからの入力情報を`inputFormData`で管理し、`handleChange`を用いて状態の更新を行います。
- `handleSubmit`: 送金ボタンがクリックされた時の処理を担当する関数。

---

## 使用技術とライブラリ

- **Solidity**: Ethereumのスマートコントラクトを記述。
- **React & Context API**: フロントエンドの状態管理およびUIの構築。
- **ethers.js**: Ethereumとの通信を効率的に行う。

## インストールと起動

```bash
# 依存関係のインストール
npm install

# ローカルサーバでの起動
npm start
```

このDappの実装においては、ユーザビリティ、セキュリティ、そして効率性を最前線に置き、ブロックチェーン技術を最大限に活用しています。